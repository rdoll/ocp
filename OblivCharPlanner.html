<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!--
    Author: Richard Doll
    Written with Dojo 1.3.0
    Developed on FireFox 3.0, but should be DOM and JavaScript 1.5 compatible.
*** "for each" and array "indexOf" are JavaScript 1.6 constructs...
*** Need to test on IE or warn if user isn't using FireFox ***
*** Using nonstandard __count__ to count the number of races in ocp.race._data...
-->

<head>

    <!-- Character encoding -->
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />

    <title>Oblivion Character Planner</title>

    <!-- Select dijit theme -->
    <link rel="stylesheet" href="dojotoolkit/dijit/themes/soria/soria.css" />

    <!-- Main ocp styles - dialogs have their own styles -->
    <link rel="stylesheet" href="styles/ocp.css" />

<!-- *** This forcefully reloads the files since they can sometimes fail to refresh. FPOS.
     *** Obviously remove this before publishing. -->
    <link rel="stylesheet" href="styles/race.css" />
    <link rel="stylesheet" href="dialogs/race.html" />
<!-- *** End of forcefully loaded files -->

    <!-- Load the Dojo toolkit base -->
    <script type="text/javascript" src="dojotoolkit/dojo/dojo.js"
        djConfig="parseOnLoad:true, isDebug:true"></script>

    <!-- Dojo startup and prep code only -->
    <script type="text/javascript">
/***** Be sure to scrub this list to ensure nothing we don't need ******/
        dojo.require("dijit.layout.BorderContainer");
        dojo.require("dijit.layout.TabContainer");
        dojo.require("dijit.layout.ContentPane");
        dojo.require("dijit.form.Button");
        dojo.require("dijit.Dialog");
        dojo.require("dojo.parser");
        dojo.require("dijit.layout.StackContainer");
        dojo.require("dijit.form.DropDownButton");
        dojo.require("dijit.Menu");
        dojo.require("dijit.Tooltip");

        /* Currently unused
        dojo.require("dojox.grid.DataGrid");
        dojo.require("dojo.data.ItemFileReadStore");
        dojo.require("dijit.layout.AccordionContainer");
        dojo.require("dijit.TooltipDialog");
        */
    </script>

    <!-- Load the OCP scripts -->
    <script type="text/javascript" src="scripts/ocp.js"></script>
    <script type="text/javascript" src="scripts/ocp-race.js"></script>
    <script type="text/javascript" src="scripts/ocp-birth.js"></script>
    <script type="text/javascript" src="scripts/ocp-class.js"></script>
    <script type="text/javascript" src="scripts/ocp-level.js"></script>
    <script type="text/javascript" src="scripts/ocp-results.js"></script>
</head>

<body class="soria">
    <h1>The Elder Scrolls IV: Oblivion - Character Planner</h1>

    <p>Something about how to use this thing...</p>

    <!-- Better warn the user about the memory leaks. :( -->
    <!-- Use inline styles so this warning can be easily (and hopefully soon) removed. -->
    <div style="background-color: #ccc; border: 1px solid black; padding: 4px; margin: 10px; width: 670px">
        <span style="font-weight: bold; font-style: italic; color: red;">Warning:</span>
        <span style="display: block">This was written using Dojo 1.3.0, which has memory leaks.
            If you reload this page many times, you should close your
            browser and open a new one to prevent the leak from growing too large.
        </span>
    </div>

    <!-- Character planner -->
    <div dojoType="dijit.layout.BorderContainer" id="plannerPane" liveSplitters="true">

        <!-- The center panel is what you can input -->
        <div dojoType="dijit.layout.ContentPane" id="plannerInputPane" region="top" splitter="true">

            <!-- This div allows the stackContainter's doLayout=false to properly size the contents.
              -- Without these, the content is sized assuming the StackController is zero height;
              -- so when the StackController is actually rendered, we get scrollbars in the pane.
              -->
            <div>
                <!-- Buttons for the stack container -->
                <div dojoType="dijit.layout.StackController" containerId="inputStackContainer">
                </div>

                <!-- See anonymous div above for why doLayout=false -->
                <div dojoType="dijit.layout.StackContainer" id="inputStackContainer"
                    doLayout="false">

                    <!-- Info for a new character -->
                    <div dojoType="dijit.layout.ContentPane" title="New Character">
                        <table id="inputTable">
                            <tbody>
                                <tr>
                                    <td>
                                        <button dojoType="dijit.form.Button" id="raceDialogButton"
                                            onClick="dijit.byId('raceDialog').show()">
                                            Race
                                        </button>
                                    </td>
                                    <td id="selectedRaceName" class="selectedLabel">&lt;none&gt;</td>
                                    <td id="selectedRaceSpecials"
                                        title="Special abilities for this Race.">&lt;none&gt;</td>
                                </tr>

                                <tr>
                                    <td id="birthDropdownContainer"></td>
                                    <td id="selectedBirthName" class="selectedLabel">&lt;none&gt;</td>
                                    <td id="selectedBirthSpecials"
                                        title="Special abilities for this Birthsign.">&lt;none&gt;</td>
                                </tr>

                                <tr>
                                    <td id="classDropdownContainer"></td>
                                    <td id="selectedClassName" class="selectedLabel">&lt;none&gt;</td>
                                    <td id="selectedClassDetails">&lt;none&gt;</td>
                                </tr>

                                <tr>
                                    <td>
                                        <button dojoType="dijit.form.Button" id="orderDialogButton"
                                            onClick="alert('Sorry, leveling order cannot be changed yet.')">
                                            Order
                                        </button>
                                    </td>
                                    <td id="selectedOrder" class="selectedLabel" colspan="2">&lt;none&gt;</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Info for an existing character -->
                    <div dojoType="dijit.layout.ContentPane" title="Existing Character">
                        Existing characters are not supported yet...
                    </div>
                </div>
            </div>
        </div>

        <!-- The bottom panel displays the results -->
        <div dojoType="dijit.layout.ContentPane" id="plannerResultsPane" region="center" splitter="true">

            <!-- This div allows the stackContainter's doLayout=false to properly size the contents.
              -- Without these, the content is sized assuming the StackController is zero height;
              -- so when the StackController is actually rendered, we get scrollbars in the pane.
              -->
            <div>
                <!-- Buttons for the stack container -->
                <div dojoType="dijit.layout.StackController" containerId="resultsStackContainer">
                </div>

                <!-- See anonymous div above for why doLayout=false -->
                <div dojoType="dijit.layout.StackContainer" id="resultsStackContainer"
                    doLayout="false">

                    <!-- Initial stats -->
                    <div dojoType="dijit.layout.ContentPane" id="resultsStartingPane"
                        title="Initial Stats">
                        <div id="resultsStartingAttributes">
                        </div>
                        <div id="resultsStartingSkills">
                        </div>
                    </div>

                    <!-- Leveling details -->
                    <div dojoType="dijit.layout.ContentPane" id="resultsLevelingPane"
                        title="Leveling Details">
                        &lt;none&gt;
                    </div>

                    <!-- Resulting analysis -->
                    <div dojoType="dijit.layout.ContentPane" id="resultsAnalysisPane"
                        title="Analysis">
                        &lt;none&gt;
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer info with author info -->
    <!-- *** enable this when done...
    <div>
        <hr />
        <a href="http://validator.w3.org/check?uri=referer">
            <img src="http://www.w3.org/Icons/valid-xhtml10-blue"
                alt="Valid XHTML 1.0 Strict" height="31" width="88" />
        </a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer">
            <img style="border:0;width:88px;height:31px"
                src="http://jigsaw.w3.org/css-validator/images/vcss-blue"
                alt="Valid CSS!" />
        </a>
    </div>
    -->

    <!-- Define AJAX dialogs -->
    <div dojoType="dijit.Dialog" id="raceDialog"
        title="Choose Your Character&apos;s Gender and Race"
        href="dialogs/race.html">
    </div>
</body>
</html>
